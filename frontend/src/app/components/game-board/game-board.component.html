<div class="game-board">
  <div class="game-status">
    <mat-card>
      <mat-card-content>
        <div [ngClass]="{'active-turn': isYourTurn}" class="turn-indicator">
          {{ turnIndicator }}
        </div>
        <div class="player-info">
          <div>You: {{ currentUserId }}</div>
          <div>Opponent: {{ opponentId }}</div>
        </div>
        <div class="game-actions">
          <button mat-raised-button 
                  color="warn" 
                  (click)="surrender()"
                  [disabled]="!game || game.status !== 'ONGOING'">
            <mat-icon>flag</mat-icon>
            Surrender
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="word-history">
    <h3>Word History</h3>
    <div class="words-list">
      <div *ngFor="let move of moves" class="word-item"
           [ngClass]="{'my-word': move.user_id === currentUserId}">
        <span class="word">{{ move.word }}</span>
        <button mat-icon-button (click)="lookupWord(move.word)">
          <mat-icon>info</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div class="word-input">
    <mat-form-field class="word-input">
      <mat-label>{{ getWordHint() }}</mat-label>
      <input matInput 
             [(ngModel)]="currentWord"
             [placeholder]="getWordHint()"
             [disabled]="!isYourTurn">
      <mat-hint *ngIf="moves.length > 0">
        Last word: {{ moves[moves.length - 1].word }}
      </mat-hint>
      <button mat-icon-button matSuffix 
              (click)="submitWord()" 
              [disabled]="!currentWord || !isYourTurn">
        <mat-icon>send</mat-icon>
      </button>
    </mat-form-field>
  </div>

  <div class="word-meaning" *ngIf="currentWordMeaning">
    <h3>{{ currentWordMeaning.word }}</h3>
    <div *ngFor="let meaning of currentWordMeaning.meanings">
      <p class="part-of-speech">{{ meaning.partOfSpeech }}</p>
      <ul>
        <li *ngFor="let def of meaning.definitions">
          {{ def.definition }}
          <span class="example" *ngIf="def.example">
            Example: "{{ def.example }}"
          </span>
        </li>
      </ul>
    </div>
  </div>
</div>
